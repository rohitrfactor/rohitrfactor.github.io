<html>
 <meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<body>
      <div style="display: block; opacity: 1; top: 345px; width: 685px; margin-top: 100px;margin:auto">
        <object id="keyboardHolder" data="keyboard-ansi.svg" type="image/svg+xml" style="width: 685px;">
      </object>
                <div style="margin: -264px 0px 0px -120px; position: relative; overflow: hidden; width: 886px; height: 460px; pointer-events: none;">
                        <img id="lhand" src="left-hand-both.png" style="margin: 0px 0px 0px 1635px; position: absolute; top: -2px; left: 140px; opacity: 0.4; transform: translate(-1772px, -920px);">
                        <img id="rhand" src="right-hand-both.png" style="margin: 0px 0px 0px -135px; position: absolute; top: -2px; left: 140px; opacity: 0.4; transform: translate(0px, 0px);">
                </div>
      </div>

</body>
<script>
window.onload=function() {
	// Get the Object by ID

	//svgItem.setAttribute("fill", "lime");
};
$(document).ready(function(){
      var keyMap ={
200: {
      "id":"capslock",
      "hand": "left",
      "margin":  "0px 0px 0px 745px"
    },
650: {
  "id":"a",
  "hand": "left",
  "margin":  "0px 0px 0px -140px"
},
830: {
  "id":"s",
  "hand": "left",
  "margin": "0px 0px 0px -1025px"
},
680: {
  "id":"d",
  "hand": "left",
  "margin": "0px 0px 0px -1910px"
},
700:{
  "id":"f",
  "hand": "left",
  "margin":"0px 0px 0px -2795px"
},
710:{
  "id":"g",
  "hand": "left",
  "margin":"0px 0px 0px -3685px"
},
810:{
  "id":"q",
  "hand": "left",
  "margin":"465px 0px 0px 755px"
},
870:{
  "id":"w",
  "hand": "left",
  "margin":"465px 0px 0px -130px"
},
690:{
  "id":"e",
  "hand": "left",
  "margin":"465px 0px 0px -1015px"
},
820:{
  "id":"r",
  "hand": "left",
  "margin":"465px 0px 0px -1900px"
},
840:{
  "id":"t",
  "hand": "left",
  "margin":"465px 0px 0px -2795px"
},
900:{
  "id":"z",
  "hand": "left",
  "margin":"-455px 0px 0px 750px"
},
880:{
  "id":"x",
  "hand": "left",
  "margin":"-455px 0px 0px -135px"
},
670:{
  "id":"c",
  "hand": "left",
  "margin":"-455px 0px 0px -1025px"
},
860:{
  "id":"v",
  "hand": "left",
  "margin":"-465px 0px 0px -1910px"
},
660:{
  "id":"b",
  "hand": "left",
  "margin":"-455px 0px 0px -2795px"
},
161:{
  "id":"shift-left",
  "hand": "left",
  "margin":"-455px 0px 0px 1635px"
},
720:{
  "id":"h",
  "hand": "right",
  "margin":"-920px 0px 0px -130px"
},
740:{
  "id":"j",
  "hand": "right",
  "margin": "-920px 0px 0px -1020px"
},
750:{
  "id":"k",
  "hand": "right",
  "margin":"-920px 0px 0px -1905px"
},
760:{
  "id":"l",
  "hand": "right",
  "margin":"-920px 0px 0px -2790px"
},
1860:{
  "id":"semicolon",
  "hand": "right",
  "margin":"-920px 0px 0px -3675px"
},
2220:{
  "id":"quote",
  "hand": "right",
  "margin":"-920px 0px 0px -4565px"
},
130:{
  "id":"enter",
  "hand": "right",
  "margin":"-920px 0px 0px -5450px"
},
890:{
  "id":"y",
  "hand": "right",
  "margin":"-455px 0px 0px -130px"
},
850:{
  "id":"u",
  "hand": "right",
  "margin":"-455px 0px 0px -1020px"
},
730:{
  "id":"i",
  "hand": "right",
  "margin":"-455px 0px 0px -1905px"
},
790:{
  "id":"o",
  "hand": "right",
  "margin":"-455px 0px 0px -2790px"
},
800:{
  "id":"p",
  "hand": "right",
  "margin":"-455px 0px 0px -3675px"
},
2190:{
  "id":"open-bracket",
  "hand": "right",
  "margin":"-455px 0px 0px -4565px"
},
2210:{
  "id":"close-bracket",
  "hand": "right",
  "margin":"-455px 0px 0px -5450px"
},
2200:{
  "id":"backslash",
  "hand": "right",
  "margin":"-1840px 0px 0px -130px"
},
780:{
  "id":"n",
  "hand": "right",
  "margin":"-1380px 0px 0px -130px"
},
770:{
  "id":"m",
  "hand": "right",
  "margin":"-1380px 0px 0px -1020px"
},
1880:{
  "id":"comma",
  "hand": "right",
  "margin":"-1380px 0px 0px -1905px"
},
1900:{
  "id":"dot",
  "hand": "right",
  "margin":"-1380px 0px 0px -2790px"
},
1910:{
  "id":"slash",
  "hand": "right",
  "margin":"-1380px 0px 0px -3675px"
},
162:{
  "id":"shift-right",
  "hand": "right",
  "margin":"-1380px 0px 0px -4565px"
},
320:{
  "id":"space",
  "hand": "right",
  "margin":"-1380px 0px 0px -5450px"
},
90:{
  "id":"tab",
  "hand": "left",
  "margin":"465px 0px 0px 1640px"
},
490:{
  "id":"key-1",
  "hand": "left",
  "margin":"920px 0px 0px 755px"
},
500:{
  "id":"key-2",
  "hand": "left",
  "margin":"920px 0px 0px -130px"
},
510:{
  "id":"key-3",
  "hand": "left",
  "margin":"920px 0px 0px -1015px"
},
520:{
  "id":"key-4",
  "hand": "left",
  "margin":"920px 0px 0px -1900px"
},
530:{
  "id":"key-5",
  "hand": "left",
  "margin":"920px 0px 0px -2795px"
},
550:{
  "id":"key-7",
  "hand": "right",
  "margin":"0px 0px 0px -6335px"
},
560:{
  "id":"key-8",
  "hand": "right",
  "margin":"0px 0px 0px -5450px"
},
570:{
  "id":"key-9",
  "hand": "right",
  "margin":"0px 0px 0px -4565px"
},
480:{
  "id":"key-0",
  "hand": "right",
  "margin":"0px 0px 0px -3675px"
},
540:{
  "id":"key-6",
  "hand": "right",
  "margin":"-1380px 0px 0px -6335px"
},
1890:{
  "id":"minus",
  "hand": "right",
  "margin":"0px 0px 0px -2790px"
},
1870:{
  "id":"equal",
  "hand": "right",
  "margin":"0px 0px 0px -1905px"
},
1920:{
  "id":"tilda",
  "hand": "left",
  "margin":"920px 0px 0px 1635px"
}
};

var Hands = {
Lhandreset : function(){
  var lhand = document.getElementById('lhand');
  lhand.style.margin = "0px 0px 0px 1635px";
},
Rhandreset : function(){
  var rhand = document.getElementById('rhand');
  rhand.style.margin = "0px 0px 0px -135px";
},
moveLhand : function(x){
  var lhand = document.getElementById('lhand');
  lhand.style.margin = x;
},
moveRhand : function(x){
  var lhand = document.getElementById('rhand');
  lhand.style.margin = x;
},
RhandShift : function(){
  var rhand = document.getElementById('rhand');
  rhand.style.margin = "-1380px 0px 0px -4565px";
}
};

var keyboardHolder = document.getElementById("keyboardHolder");
// Get the SVG document inside the Object tag
var svgDoc = keyboardHolder.contentDocument;


  document.addEventListener('keydown', function(e) {
    console.log('You just pressed a key '+e.keyCode+e.location);
      Hands.Rhandreset();
      Hands.Lhandreset();
      var x = e.keyCode*10+e.location;
      console.log(x + ' value ');
      if(keyMap[x].hand == "left"){
          Hands.moveLhand(keyMap[x].margin);
          svgDoc.getElementById(keyMap[x].id).style.fill = 'blue';
      }
      if(keyMap[x].hand == "right"){
          Hands.moveRhand(keyMap[x].margin);
          svgDoc.getElementById(keyMap[x].id).style.fill = 'blue';
      }
 });


 // Get one of the SVG items by ID;
 //var svgItem = svgDoc.getElementById("tilda");
 // Set the colour to something else
 //svgItem.style.fill = 'salmon';


});

</script>
</html>
